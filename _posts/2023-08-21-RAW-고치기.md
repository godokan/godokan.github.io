---
title: "RAW 파티션 복구하는 방법 (외장하드 인식 불가 해결)"
excerpt: "외장하드, USB 스토리지 등이 인식되지 않는 경우 해결방법입니다."
categories:
    - 개발이야기
tags:
    - 파티션
    - 복구
    - 윈도우
last_modified_at: 2023-08-21T16:22
---

> E:\을(를) 액세스 할 수 없습니다.   
> 파일 또는 디렉터리가 손상되었기 때문에 읽을 수 없습니다.

&nbsp;필자의 컴퓨터는 모두 애플의 맥 환경으로 구성되어 있다. 주로 쓰는 컴퓨터가 m1 맥미니이고, UTM을 이용한 가상머신으로 윈도우를 필요할때에만 사용하고 있다.

&nbsp;그러던 어느 날 가상머신쪽에서 오류가 난 건지, USB 스토리지가 어느 컴퓨터에서도 인식 할 수 없는 현상이 발생하였다.

&nbsp;증상은 위와 같은 문구가 뜨며, 용량이 표시되어 있지 않고, 디스크 이름이 있었다면 디스크 이름도 지워져있을 수 있다.

&nbsp;저장장치가 정상이라면 새로 포맷하여 사용한다면 그만이지만 안에 중요한 자료가 들어있거나 복구를 원하는 경우 시도해볼 수 있는 방법 중 돈이 들지 않는 방법이 있다. 데이터 복구 계열 프로그램들은 대부분 유료 프로그램이 많다.

&nbsp;하지만 지금 이 방법은 추가적인 유료 프로그램 구매 및 설치 없이 윈도우 운영체제만 있으면 먼저 시도해 볼 수 있다.

## 디스크와 파티션 상태 확인

![검색창](/assets/images/fix_raw/raw_search.png "윈도우 검색창")

&nbsp;윈도우에서 '디스크 관리' 혹은 '파티션'을 검색하면 위와 같이 파티션을 확인 할 수 있는 화면이 나온다.

&nbsp;디스크를 확인해보면 용량 뒤에 RAW 표시가 있을것이다. 이는 '파티션 테이블'이라는 것이 깨져서 일어난 현상일 수 있다.

&nbsp;필자의 경우 가상머신 강제 종료로 인해 파티션 테이블에 문제가 생겼던 케이스라고 추정한다.

&nbsp;이 외의 원인으로는 배드섹터, 파일 시스템 손상, 악성 프로그램 오염 등이 있을 수 있다. 이 경우, 설명할 방법으로는 복구가 불가능 할 수도 있다.

&nbsp;다른 방법으로 DISKPART를 이용하는 방법이 있다. 윈도우 터미널(파워 셀 혹은 cmd)을 실행하고, `diskpart`를 입력하자. 관리자 권한이 필요 할 수 있다.

&nbsp;DISKPART를 실행했다면 터미널에 DISKPART> 와 커서가 있을것이다. `list disk` 명령어로 디스크 리스트를 확인해보자.

![DSIKPART1](/assets/images/fix_raw/raw_diskpart_disk.png "DISKPART 명령어 1")

&nbsp;다음으로는 `list volume`을 입력해 파티션 볼륨 상태를 확인해보자.

![DSIKPART2](/assets/images/fix_raw/raw_diskpart_vol.png "DISKPART 명령어 2")

&nbsp;위 사진은 파티션을 복구 한 이후에 명령어를 입력하여 볼륨 E의 포맷(Fs)이 exFAT으로 나와있으나, RAW로 나와있을것이다.

&nbsp;Ctrl(컨트롤)키와 C키를 동시에 눌러 DISKPART를 종료하자.

## CHKDSK를 사용 한 복구 시도

&nbsp;앞서 두 프로그램을 통해 디스크와 볼륨 상태는 괜찮은것을 확인할 수 있었을것이다. 디스크는 '온라인(Online)'으로, 볼륨은 '정상(Healthy)'로 표시되어 있는것이 정상이다.

&nbsp;윈도우 운영체제에 기본 탑재 된 명령어인 CHKDSK를 통해 복구를 시도 해 보자. 그 전에, 자세한 상태를 확인하기 위해 CHKDSK명령어로도 한 번 더 상세한 상태를 확인해보자. 드라이브 문자 뒤에 꼭 콜론`:`이 붙어야 한다.

> chkdsk [드라이브 문자]: /r

&nbsp;드라이브 문자는 앞서 DSIKPART에서 list volume 명령어로 확인 한 볼륨의 영어 한 글자로 이루어진 것을 말한다. C 드라이브, D 드라이브 할 때의 C, D가 이것이다. 필자의 경우 E 드라이브의 복구가 필요 한 상황이다.

![CHKDSK1](/assets/images/fix_raw/raw_chkdsk_1.png "CHKDSK 명령어 1")

&nbsp;위 명령어로 손상 된 디스크 파티션의 상태를 상세하게 진단 할 수 있다. 다만 이 작업은 시간이 걸리니 인내심을 가지고 기다리도록 하자. 

&nbsp;다음은 파티션 테이블을 복구하는 작업으로 디스크를 다시 사용 할 수 있도록 만들어보자. 명령어는 다음과 같다.

> chkdsk [드라이브 문자]: /f

![CHKDSK2](/assets/images/fix_raw/raw_chkdsk_2.png "CHKDSK 명령어 2")

## 정리하며

&nbsp;작업이 끝나면 'Windows에서 파일 시스템을 수정했습니다. 더 이상 작업이 필요하지 않습니다.(Windows has scanned the file sysyem and found no problems. No further action is reqired.)'라는 글을 확인 할 수 있을것이다.

&nbsp;이제 다시한번 파일탐색기에서 저장장치를 확인해보자. 정상적으로 작동하는 것을 확인 할 수 있을것이다.

&nbsp;만약 이 방법으로 해결되지 않는다면 외부 프로그램을 사용해야 하거나 전문 파일 복구 업체에 의뢰해야 한다.

&nbsp;무엇보다 중요한 것은 재발방지이니 컴퓨터를 종료하거나 USB를 분리하기 전에 반드시 하드웨어 안전 제거(추출)을 확인하도록 하고, 중요한 데이터는 여러 곳에 백업하도록 하자.